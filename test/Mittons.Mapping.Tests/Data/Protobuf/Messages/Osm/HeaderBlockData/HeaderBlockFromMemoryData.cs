using Mittons.Mapping.Protobuf.Messages.Osm;

namespace Mittons.Mapping.Tests.Data.Protobuf.Messages.Osm.HeaderBlockData;

internal class HeaderBlockFromMemoryData : DataSourceGeneratorAttribute<byte[], HeaderBlock>
{
    protected override IEnumerable<Func<(byte[], HeaderBlock)>> GenerateDataSources(DataGeneratorMetadata dataGeneratorMetadata)
    {
        yield return () => (
            [
                // Header Bounding Box
                0x0a, 0x1c, 0x08, 0xbf, 0xda, 0xba, 0xcb, 0xbe, 0x04, 0x10, 0xbf, 0xfe, 0x98, 0x82, 0xbd, 0x04,
                0x18, 0xe0, 0xc8, 0xc1, 0xc5, 0xa2, 0x02, 0x20, 0xc0, 0xff, 0xa6, 0x82, 0xa1, 0x02,
                // Required Feature
                0x22, 0x0e, 0x4f, 0x73, 0x6d, 0x53, 0x63, 0x68, 0x65, 0x6d, 0x61, 0x2d, 0x56, 0x30, 0x2e, 0x36,
                // Required Feature
                0x22, 0x0a, 0x44, 0x65, 0x6e, 0x73, 0x65, 0x4e, 0x6f, 0x64, 0x65, 0x73,
                // Optional Feature
                0x2A, 0x0a, 0x44, 0x65, 0x6e, 0x73, 0x65, 0x4e, 0x6f, 0x64, 0x65, 0x73,
                // Optional Feature
                0x2A, 0x0e, 0x4f, 0x73, 0x6d, 0x53, 0x63, 0x68, 0x65, 0x6d, 0x61, 0x2d, 0x56, 0x30, 0x2e, 0x36,
                // Writing Program
                0x82, 0x01, 0x0c, 0x6f, 0x73, 0x6d, 0x69, 0x75, 0x6d, 0x2f, 0x31, 0x2e, 0x35, 0x2e, 0x31,
                // Source
                0x8A, 0x01, 0x0a, 0x6f, 0x73, 0x6d, 0x69, 0x75, 0x6d, 0x2f, 0x31, 0x2e, 0x35,
                // Osmosis Replication Timestamp
                0x80, 0x02, 0xe6, 0xd3, 0xfc, 0xd0, 0x05,
                // Osmosis Replication Sequence Number
                0x88, 0x02, 0xb5, 0x0d, 0x92, 0x02, 0x4a, 0x68, 0x74, 0x74, 0x70, 0x3a, 0x2f, 0x2f, 0x64, 0x6f,
                // Osmosis Replication Base Url
                0x77, 0x6e, 0x6c, 0x6f, 0x61, 0x64, 0x2e, 0x67, 0x65, 0x6f, 0x66, 0x61, 0x62, 0x72, 0x69, 0x6b,
                0x2e, 0x64, 0x65, 0x2f, 0x6e, 0x6f, 0x72, 0x74, 0x68, 0x2d, 0x61, 0x6d, 0x65, 0x72, 0x69, 0x63,
                0x61, 0x2f, 0x75, 0x73, 0x2f, 0x64, 0x69, 0x73, 0x74, 0x72, 0x69, 0x63, 0x74, 0x2d, 0x6f, 0x66,
                0x2d, 0x63, 0x6f, 0x6c, 0x75, 0x6d, 0x62, 0x69, 0x61, 0x2d, 0x75, 0x70, 0x64, 0x61, 0x74, 0x65,
                0x73,
            ],
            new HeaderBlock
            {
                BoundingBox = new HeaderBoundingBox
                {
                    Left = -77120100000,
                    Right = -76909060000,
                    Top = 38996030000,
                    Bottom = 38791340000,
                },
                RequiredFeatures =
                [
                    "OsmSchema-V0.6",
                    "DenseNodes",
                ],
                OptionalFeatures =
                [
                    "DenseNodes",
                    "OsmSchema-V0.6",
                ],
                WritingProgram = "osmium/1.5.1",
                Source = "osmium/1.5",
                OsmosisReplicationTimestamp = 1511991782,
                OsmosisReplicationSequenceNumber = 1717,
                OsmosisReplicationBaseUrl = "http://download.geofabrik.de/north-america/us/district-of-columbia-updates",
            }
        );
        yield return () => (
            [
                // Header Bounding Box
                0x0a, 0x1c, 0x08, 0xbf, 0xda, 0xba, 0xcb, 0xbe, 0x04, 0x10, 0xbf, 0xfe, 0x98, 0x82, 0xbd, 0x04,
                0x18, 0xe0, 0xc8, 0xc1, 0xc5, 0xa2, 0x02, 0x20, 0xc0, 0xff, 0xa6, 0x82, 0xa1, 0x02,
            ],
            new HeaderBlock
            {
                BoundingBox = new HeaderBoundingBox
                {
                    Left = -77120100000,
                    Right = -76909060000,
                    Top = 38996030000,
                    Bottom = 38791340000,
                },
            }
        );
    }
}
